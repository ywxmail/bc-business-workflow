<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.bctaxi.com.cn/workflow">
  <process id="MidwayReturnCar" name="中途交车申请流程">
    <extensionElements>
      <activiti:executionListener event="start" class="cn.bc.workflow.activiti.delegate.ProcessLogListener"></activiti:executionListener>
      <activiti:executionListener event="end" class="cn.bc.workflow.activiti.delegate.ProcessLogListener"></activiti:executionListener>
    </extensionElements>
    <startEvent id="startevent1" name="Start" activiti:initiator="initiator"></startEvent>
    <userTask id="t01ApplyMatter" name="提出申请" activiti:assignee="${initiator}" activiti:formKey="fm:wf:GeneralOrder/ApplyMatter">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="t02UnitManagerConfirm" name="分公司经理确认" activiti:assignee="${unitManager}" activiti:formKey="fm:wf:GeneralOrder/UnitManagerConfirm">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="t10UnitManagerImplement" name="分公司经理落实" activiti:assignee="${unitManager}">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.Assign2GroupUserListener">
          <activiti:field name="groupName">
            <activiti:string>分公司经理</activiti:string>
          </activiti:field>
          <activiti:field name="orgVariableName">
            <activiti:string>verifyUnitId</activiti:string>
          </activiti:field>
        </activiti:taskListener>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="t09InChargeDeputyGeneralManagerCheck" name="分管副总审批" activiti:assignee="${inChargeDeputyGeneralManager}" activiti:formKey="fm:wf:GeneralOrder/InChargeDeputyGeneralManagerCheck">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <endEvent id="endevent1" name="End"></endEvent>
    <userTask id="t06FinanceDepartmentCooperation" name="财务部协办" activiti:assignee="${fdcOfficer}" activiti:formKey="fm:wf:GeneralOrder/FinanceDepartmentCooperation">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="t05ComprehensiveOfficeCooperation" name="业务组协办" activiti:assignee="${cocOfficer}" activiti:formKey="fm:wf:GeneralOrder/ComprehensiveOfficeCooperation">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="t11SponserFile" name="发起人归档" activiti:assignee="${sponser}">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="t08OperationSecurityCheck" name="营安部审批" activiti:assignee="${operationSecurityOfficer}" activiti:formKey="fm:wf:GeneralOrder/OperationSecurityCheck">
      <extensionElements>
        <activiti:taskListener event="create" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
        <activiti:taskListener event="complete" class="cn.bc.workflow.activiti.delegate.TaskLogListener"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <inclusiveGateway id="inclusivegateway1" name="Inclusive Gateway"></inclusiveGateway>
    <inclusiveGateway id="inclusivegateway2" name="Inclusive Gateway"></inclusiveGateway>
    <sequenceFlow id="flow1" name="中途交车申请流程" sourceRef="startevent1" targetRef="t01ApplyMatter"></sequenceFlow>
    <sequenceFlow id="flow2" name="" sourceRef="t01ApplyMatter" targetRef="t02UnitManagerConfirm"></sequenceFlow>
    <sequenceFlow id="flow10" name="结束" sourceRef="t11SponserFile" targetRef="endevent1"></sequenceFlow>
    <sequenceFlow id="flow26" name="" sourceRef="t10UnitManagerImplement" targetRef="t11SponserFile"></sequenceFlow>
    <sequenceFlow id="flow30" name="" sourceRef="t08OperationSecurityCheck" targetRef="exclusivegateway3"></sequenceFlow>
    <sequenceFlow id="flow33" name="" sourceRef="t09InChargeDeputyGeneralManagerCheck" targetRef="t10UnitManagerImplement">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${is_umi_flow}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow36" name="" sourceRef="inclusivegateway1" targetRef="t06FinanceDepartmentCooperation">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${is_FDC_flow}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow38" name="" sourceRef="inclusivegateway1" targetRef="t05ComprehensiveOfficeCooperation">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${is_COC_flow}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow41" name="" sourceRef="t05ComprehensiveOfficeCooperation" targetRef="inclusivegateway2"></sequenceFlow>
    <sequenceFlow id="flow46" name="" sourceRef="t02UnitManagerConfirm" targetRef="inclusivegateway1"></sequenceFlow>
    <sequenceFlow id="flow48" name="" sourceRef="t06FinanceDepartmentCooperation" targetRef="inclusivegateway2"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_MidwayReturnCar">
    <bpmndi:BPMNPlane bpmnElement="MidwayReturnCar" id="BPMNPlane_MidwayReturnCar">
      <bpmndi:BPMNShape bpmnElement="startevent1" id="BPMNShape_startevent1">
        <omgdc:Bounds height="35" width="35" x="130" y="10"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t01ApplyMatter" id="BPMNShape_t01ApplyMatter">
        <omgdc:Bounds height="55" width="105" x="95" y="60"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t02UnitManagerConfirm" id="BPMNShape_t02UnitManagerConfirm">
        <omgdc:Bounds height="55" width="105" x="95" y="132"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t10UnitManagerImplement" id="BPMNShape_t10UnitManagerImplement">
        <omgdc:Bounds height="55" width="105" x="95" y="560"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t09InChargeDeputyGeneralManagerCheck" id="BPMNShape_t09InChargeDeputyGeneralManagerCheck">
        <omgdc:Bounds height="55" width="105" x="95" y="490"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35" width="35" x="130" y="698"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t06FinanceDepartmentCooperation" id="BPMNShape_t06FinanceDepartmentCooperation">
        <omgdc:Bounds height="55" width="105" x="164" y="246"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t05ComprehensiveOfficeCooperation" id="BPMNShape_t05ComprehensiveOfficeCooperation">
        <omgdc:Bounds height="55" width="105" x="26" y="246"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t11SponserFile" id="BPMNShape_t11SponserFile">
        <omgdc:Bounds height="55" width="105" x="95" y="630"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="t08OperationSecurityCheck" id="BPMNShape_t08OperationSecurityCheck">
        <omgdc:Bounds height="55" width="105" x="95" y="360"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="inclusivegateway1" id="BPMNShape_inclusivegateway1">
        <omgdc:Bounds height="40" width="40" x="127" y="206"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="inclusivegateway2" id="BPMNShape_inclusivegateway2">
        <omgdc:Bounds height="40" width="40" x="127" y="300"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="147" y="45"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="60"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42" width="100" x="31" y="-42"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="147" y="115"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="132"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow10" id="BPMNEdge_flow10">
        <omgdi:waypoint x="147" y="685"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="698"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14" width="100" x="23" y="19"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow26" id="BPMNEdge_flow26">
        <omgdi:waypoint x="147" y="615"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="630"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow30" id="BPMNEdge_flow30">
        <omgdi:waypoint x="147" y="415"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="430"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow33" id="BPMNEdge_flow33">
        <omgdi:waypoint x="147" y="545"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="560"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow36" id="BPMNEdge_flow36">
        <omgdi:waypoint x="167" y="226"></omgdi:waypoint>
        <omgdi:waypoint x="216" y="226"></omgdi:waypoint>
        <omgdi:waypoint x="216" y="246"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow38" id="BPMNEdge_flow38">
        <omgdi:waypoint x="127" y="226"></omgdi:waypoint>
        <omgdi:waypoint x="78" y="226"></omgdi:waypoint>
        <omgdi:waypoint x="78" y="246"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow41" id="BPMNEdge_flow41">
        <omgdi:waypoint x="78" y="301"></omgdi:waypoint>
        <omgdi:waypoint x="78" y="320"></omgdi:waypoint>
        <omgdi:waypoint x="127" y="320"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow46" id="BPMNEdge_flow46">
        <omgdi:waypoint x="147" y="187"></omgdi:waypoint>
        <omgdi:waypoint x="147" y="206"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow48" id="BPMNEdge_flow48">
        <omgdi:waypoint x="216" y="301"></omgdi:waypoint>
        <omgdi:waypoint x="216" y="320"></omgdi:waypoint>
        <omgdi:waypoint x="167" y="320"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>