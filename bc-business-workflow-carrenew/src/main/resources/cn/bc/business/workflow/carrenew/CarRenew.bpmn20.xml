<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.bctaxi.com.cn/workflow">
  <process id="CarRenewProcess" name="车辆续保处理流程">
    <extensionElements>
      <activiti:executionListener event="start" delegateExpression="${processLogListener}"></activiti:executionListener>
      <activiti:executionListener event="end" delegateExpression="${processLogListener}"></activiti:executionListener>
    </extensionElements>
    <startEvent id="startevent1" name="Start" activiti:initiator="initiator"></startEvent>
    <endEvent id="endevent1" name="End"></endEvent>
    <userTask id="AssignCar" name="指定续保车辆" activiti:assignee="${initiator}" activiti:formKey="fm:file:bc-business-workflow/carRenew/AssignCar.form">
      <extensionElements>
        <activiti:taskListener event="create" delegateExpression="${taskLogListener}"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="SignPolicy" name="通知责任人签投保单" activiti:formKey="fm:file:bc-business-workflow/carRenew/SignPolicy.form">
      <extensionElements>
        <activiti:taskListener event="create" delegateExpression="${taskLogListener}"></activiti:taskListener>
        <activiti:taskListener event="create" delegateExpression="${assign2UnitContractHandlerListener}"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <userTask id="ReviewAndRenew" name="复核投保单并续保" activiti:assignee="${initiator}" activiti:formKey="fm:file:bc-business-workflow/carRenew/AssignReturnDate.form">
      <extensionElements>
        <activiti:taskListener event="create" delegateExpression="${assign2UnitManagerListener}"></activiti:taskListener>
        <activiti:taskListener event="create" delegateExpression="${taskLogListener}"></activiti:taskListener>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow1" name="车辆续保处理流程" sourceRef="startevent1" targetRef="AssignCar"></sequenceFlow>
    <sequenceFlow id="flow2" name="" sourceRef="AssignCar" targetRef="SignPolicy"></sequenceFlow>
    <sequenceFlow id="flow4" name="" sourceRef="ReviewAndRenew" targetRef="endevent1"></sequenceFlow>
    <sequenceFlow id="flow3" name="" sourceRef="SignPolicy" targetRef="ReviewAndRenew"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_CarRenewProcess">
    <bpmndi:BPMNPlane bpmnElement="CarRenewProcess" id="BPMNPlane_CarRenewProcess">
      <bpmndi:BPMNShape bpmnElement="startevent1" id="BPMNShape_startevent1">
        <omgdc:Bounds height="35" width="35" x="73" y="8"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35" width="35" x="73" y="338"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="AssignCar" id="BPMNShape_AssignCar">
        <omgdc:Bounds height="55" width="161" x="10" y="70"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="SignPolicy" id="BPMNShape_SignPolicy">
        <omgdc:Bounds height="55" width="161" x="10" y="159"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ReviewAndRenew" id="BPMNShape_ReviewAndRenew">
        <omgdc:Bounds height="55" width="161" x="10" y="248"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="90" y="43"></omgdi:waypoint>
        <omgdi:waypoint x="90" y="70"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="42" width="100" x="23" y="-51"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="90" y="125"></omgdi:waypoint>
        <omgdi:waypoint x="90" y="159"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
        <omgdi:waypoint x="90" y="303"></omgdi:waypoint>
        <omgdi:waypoint x="90" y="338"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="90" y="214"></omgdi:waypoint>
        <omgdi:waypoint x="90" y="248"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>